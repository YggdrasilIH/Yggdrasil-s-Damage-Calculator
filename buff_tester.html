<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Battle Simulator with Hero Selection</title>
<style>
body { font-family: Arial, sans-serif; background: #f5f4eb; padding: 20px; }
select { margin-right: 10px; margin-bottom: 10px; }
button { margin-top: 10px; padding: 5px 10px; }
pre { background: #e0dcd0; padding: 10px; border-radius: 5px; margin-top: 20px; }
</style>
</head>
<body>

<h1>Battle Simulator</h1>

<h3>Select Heroes and Artifacts</h3>
<div id="hero-selection">
  <!-- 6 hero slots -->
  <div>
    Hero 1: 
    <select class="hero-select">
      <option value="">--Select--</option>
      <option value="SQH">SQH</option>
      <option value="Ely">Ely</option>
      <option value="LFA">LFA</option>
      <option value="LBRM">LBRM</option>
      <option value="BDSM">BDSM</option>
      <option value="Vespera">Vespera</option>
      <option value="PDE">PDE</option>
    </select>
    Artifact:
    <select class="artifact-select">
      <option value="none">none</option>
      <option value="mirror">mirror</option>
      <option value="db">db</option>
      <option value="scissors">scissors</option>
      <option value="antiwarrior">antiwarrior</option>
      <option value="antlers">antlers</option>
    </select>
  </div>
  <div>
    Hero 2: 
    <select class="hero-select">
      <option value="">--Select--</option>
      <option value="SQH">SQH</option>
      <option value="Ely">Ely</option>
      <option value="LFA">LFA</option>
      <option value="LBRM">LBRM</option>
      <option value="BDSM">BDSM</option>
      <option value="Vespera">Vespera</option>
      <option value="PDE">PDE</option>
    </select>
    Artifact:
    <select class="artifact-select">
      <option value="none">none</option>
      <option value="mirror">mirror</option>
      <option value="db">db</option>
      <option value="scissors">scissors</option>
      <option value="antiwarrior">antiwarrior</option>
      <option value="antlers">antlers</option>
    </select>
  </div>
  <div>
    Hero 3: 
    <select class="hero-select">
      <option value="">--Select--</option>
      <option value="SQH">SQH</option>
      <option value="Ely">Ely</option>
      <option value="LFA">LFA</option>
      <option value="LBRM">LBRM</option>
      <option value="BDSM">BDSM</option>
      <option value="Vespera">Vespera</option>
      <option value="PDE">PDE</option>
    </select>
    Artifact:
    <select class="artifact-select">
      <option value="none">none</option>
      <option value="mirror">mirror</option>
      <option value="db">db</option>
      <option value="scissors">scissors</option>
      <option value="antiwarrior">antiwarrior</option>
      <option value="antlers">antlers</option>
    </select>
  </div>
  <div>
    Hero 4: 
    <select class="hero-select">
      <option value="">--Select--</option>
      <option value="SQH">SQH</option>
      <option value="Ely">Ely</option>
      <option value="LFA">LFA</option>
      <option value="LBRM">LBRM</option>
      <option value="BDSM">BDSM</option>
      <option value="Vespera">Vespera</option>
      <option value="PDE">PDE</option>
    </select>
    Artifact:
    <select class="artifact-select">
      <option value="none">none</option>
      <option value="mirror">mirror</option>
      <option value="db">db</option>
      <option value="scissors">scissors</option>
      <option value="antiwarrior">antiwarrior</option>
      <option value="antlers">antlers</option>
    </select>
  </div>
  <div>
    Hero 5: 
    <select class="hero-select">
      <option value="">--Select--</option>
      <option value="SQH">SQH</option>
      <option value="Ely">Ely</option>
      <option value="LFA">LFA</option>
      <option value="LBRM">LBRM</option>
      <option value="BDSM">BDSM</option>
      <option value="Vespera">Vespera</option>
      <option value="PDE">PDE</option>
    </select>
    Artifact:
    <select class="artifact-select">
      <option value="none">none</option>
      <option value="mirror">mirror</option>
      <option value="db">db</option>
      <option value="scissors">scissors</option>
      <option value="antiwarrior">antiwarrior</option>
      <option value="antlers">antlers</option>
    </select>
  </div>
  <div>
    Hero 6: 
    <select class="hero-select">
      <option value="">--Select--</option>
      <option value="SQH">SQH</option>
      <option value="Ely">Ely</option>
      <option value="LFA">LFA</option>
      <option value="LBRM">LBRM</option>
      <option value="BDSM">BDSM</option>
      <option value="Vespera">Vespera</option>
      <option value="PDE">PDE</option>
    </select>
    Artifact:
    <select class="artifact-select">
      <option value="none">none</option>
      <option value="mirror">mirror</option>
      <option value="db">db</option>
      <option value="scissors">scissors</option>
      <option value="antiwarrior">antiwarrior</option>
      <option value="antlers">antlers</option>
    </select>
  </div>
</div>

<button id="runBattle">Run Battle</button>

<pre id="log"></pre>

<script>
// ------------------------
// Hero Templates (simplified)
// ------------------------
const heroTemplates = {
  SQH: { name: "SQH" },
  Ely: { name: "Ely" },
  LFA: { name: "LFA" },
  LBRM: { name: "LBRM" },
  BDSM: { name: "BDSM" },
  Vespera: { name: "Vespera" },
  PDE: { name: "PDE" }
};

// ------------------------
// Read user selections
// ------------------------
function getSelectedHeroes() {
  const heroSelects = document.querySelectorAll(".hero-select");
  const artifactSelects = document.querySelectorAll(".artifact-select");
  const selectedHeroes = [];

  heroSelects.forEach((sel, idx) => {
    const name = sel.value;
    if (!name) return; // skip empty
    const hero = { ...heroTemplates[name], artifact: artifactSelects[idx].value };
    selectedHeroes.push(hero);
  });

  return selectedHeroes;
}

// ------------------------
// Example Battle Loop (15 rounds)
// ------------------------
function runBattle() {
  const heroes = getSelectedHeroes();
  const battleState = {
    round: 0,
    heroes: heroes,
    lfaBuffs: {},
    lfaDebuffs: { curseOfDecay: { stacks: 0 } },
    boss: { abyssalCorruptionStacks: 0, HDStacks: 0, atkBuff: 0, counterCount: 0 }
  };

  for (let r = 1; r <= 15; r++) {
    battleState.round = r;

    // Sort heroes by selection order (or you can add speed property later)
    const orderedHeroes = [...battleState.heroes];

    orderedHeroes.forEach(hero => {
      // Placeholder: apply hero action (basic/active) and DT mechanics
      // Buffs would be applied here
    });

    // Placeholder: SE boss actions
    battleState.boss.HDStacks += 2;
    battleState.boss.atkBuff += 0.15;
    battleState.lfaDebuffs.curseOfDecay.stacks += 3;
    battleState.boss.counterCount = 0;

    // Placeholder: decrement buff durations
  }

  document.getElementById("log").textContent = JSON.stringify(battleState, null, 2);
}

// ------------------------
document.getElementById("runBattle").addEventListener("click", runBattle);
</script>

</body>
</html>
